<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Type Conformity</title><meta name="description" content="Documentation for Type Conformity"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><link rel="stylesheet" href="assets/custom.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><style>
@media (prefers-color-scheme: dark) {
  :root {
    --md-sys-color-primary: #f6be46;
    --md-sys-color-on-primary: #412d00;
    --md-sys-color-primary-container: #5d4200;
    --md-sys-color-on-primary-container: #ffdea3;
    --md-sys-color-secondary: #d9c4a0;
    --md-sys-color-on-secondary: #3b2f15;
    --md-sys-color-secondary-container: #53452a;
    --md-sys-color-on-secondary-container: #f6e0bb;
    --md-sys-color-tertiary: #b2cfa8;
    --md-sys-color-on-tertiary: #1e361a;
    --md-sys-color-tertiary-container: #344d2f;
    --md-sys-color-on-tertiary-container: #cdebc2;
    --md-sys-color-error: #ffb4ab;
    --md-sys-color-on-error: #690005;
    --md-sys-color-error-container: #93000a;
    --md-sys-color-on-error-container: #ffb4ab;
    --md-sys-color-background: #1e1b16;
    --md-sys-color-on-background: #e9e1d9;
    --md-sys-color-surface: #1e1b16;
    --md-sys-color-on-surface: #e9e1d9;
    --md-sys-color-surface-variant: #4e4639;
    --md-sys-color-on-surface-variant: #d1c5b4;
    --md-sys-color-outline: #9a8f80;
    --md-sys-color-outline-variant: #4e4639;
    --md-sys-color-shadow: #000000;
    --md-sys-color-scrim: #000000;
    --md-sys-color-inverse-surface: #e9e1d9;
    --md-sys-color-inverse-on-surface: #34302a;
    --md-sys-color-inverse-primary: #7a5900;
    --md-sys-color-surface-dim: #16130e;
    --md-sys-color-surface-bright: #3d3933;
    --md-sys-color-surface-container-lowest: #110e09;
    --md-sys-color-surface-container-low: #1e1b16;
    --md-sys-color-surface-container: #221f1a;
    --md-sys-color-surface-container-high: #2d2924;
    --md-sys-color-surface-container-highest: #38342e
  }
}
:root[data-theme="dark"] {
  --md-sys-color-primary: #f6be46;
  --md-sys-color-on-primary: #412d00;
  --md-sys-color-primary-container: #5d4200;
  --md-sys-color-on-primary-container: #ffdea3;
  --md-sys-color-secondary: #d9c4a0;
  --md-sys-color-on-secondary: #3b2f15;
  --md-sys-color-secondary-container: #53452a;
  --md-sys-color-on-secondary-container: #f6e0bb;
  --md-sys-color-tertiary: #b2cfa8;
  --md-sys-color-on-tertiary: #1e361a;
  --md-sys-color-tertiary-container: #344d2f;
  --md-sys-color-on-tertiary-container: #cdebc2;
  --md-sys-color-error: #ffb4ab;
  --md-sys-color-on-error: #690005;
  --md-sys-color-error-container: #93000a;
  --md-sys-color-on-error-container: #ffb4ab;
  --md-sys-color-background: #1e1b16;
  --md-sys-color-on-background: #e9e1d9;
  --md-sys-color-surface: #1e1b16;
  --md-sys-color-on-surface: #e9e1d9;
  --md-sys-color-surface-variant: #4e4639;
  --md-sys-color-on-surface-variant: #d1c5b4;
  --md-sys-color-outline: #9a8f80;
  --md-sys-color-outline-variant: #4e4639;
  --md-sys-color-shadow: #000000;
  --md-sys-color-scrim: #000000;
  --md-sys-color-inverse-surface: #e9e1d9;
  --md-sys-color-inverse-on-surface: #34302a;
  --md-sys-color-inverse-primary: #7a5900;
  --md-sys-color-surface-dim: #16130e;
  --md-sys-color-surface-bright: #3d3933;
  --md-sys-color-surface-container-lowest: #110e09;
  --md-sys-color-surface-container-low: #1e1b16;
  --md-sys-color-surface-container: #221f1a;
  --md-sys-color-surface-container-high: #2d2924;
  --md-sys-color-surface-container-highest: #38342e
}

@media (prefers-color-scheme: light) {
  :root {
    --md-sys-color-primary: #7a5900;
    --md-sys-color-on-primary: #ffffff;
    --md-sys-color-primary-container: #ffdea3;
    --md-sys-color-on-primary-container: #261900;
    --md-sys-color-secondary: #6c5c3f;
    --md-sys-color-on-secondary: #ffffff;
    --md-sys-color-secondary-container: #f6e0bb;
    --md-sys-color-on-secondary-container: #251a04;
    --md-sys-color-tertiary: #4b6545;
    --md-sys-color-on-tertiary: #ffffff;
    --md-sys-color-tertiary-container: #cdebc2;
    --md-sys-color-on-tertiary-container: #092007;
    --md-sys-color-error: #ba1a1a;
    --md-sys-color-on-error: #ffffff;
    --md-sys-color-error-container: #ffdad6;
    --md-sys-color-on-error-container: #410002;
    --md-sys-color-background: #fffbff;
    --md-sys-color-on-background: #1e1b16;
    --md-sys-color-surface: #fffbff;
    --md-sys-color-on-surface: #1e1b16;
    --md-sys-color-surface-variant: #ede1cf;
    --md-sys-color-on-surface-variant: #4e4639;
    --md-sys-color-outline: #7f7667;
    --md-sys-color-outline-variant: #d1c5b4;
    --md-sys-color-shadow: #000000;
    --md-sys-color-scrim: #000000;
    --md-sys-color-inverse-surface: #34302a;
    --md-sys-color-inverse-on-surface: #f8efe7;
    --md-sys-color-inverse-primary: #f6be46;
    --md-sys-color-surface-dim: #e1d9d0;
    --md-sys-color-surface-bright: #fff8f2;
    --md-sys-color-surface-container-lowest: #ffffff;
    --md-sys-color-surface-container-low: #fbf2e9;
    --md-sys-color-surface-container: #f5ede4;
    --md-sys-color-surface-container-high: #efe7de;
    --md-sys-color-surface-container-highest: #e9e1d9
  }
}
:root[data-theme="light"] {
  --md-sys-color-primary: #7a5900;
  --md-sys-color-on-primary: #ffffff;
  --md-sys-color-primary-container: #ffdea3;
  --md-sys-color-on-primary-container: #261900;
  --md-sys-color-secondary: #6c5c3f;
  --md-sys-color-on-secondary: #ffffff;
  --md-sys-color-secondary-container: #f6e0bb;
  --md-sys-color-on-secondary-container: #251a04;
  --md-sys-color-tertiary: #4b6545;
  --md-sys-color-on-tertiary: #ffffff;
  --md-sys-color-tertiary-container: #cdebc2;
  --md-sys-color-on-tertiary-container: #092007;
  --md-sys-color-error: #ba1a1a;
  --md-sys-color-on-error: #ffffff;
  --md-sys-color-error-container: #ffdad6;
  --md-sys-color-on-error-container: #410002;
  --md-sys-color-background: #fffbff;
  --md-sys-color-on-background: #1e1b16;
  --md-sys-color-surface: #fffbff;
  --md-sys-color-on-surface: #1e1b16;
  --md-sys-color-surface-variant: #ede1cf;
  --md-sys-color-on-surface-variant: #4e4639;
  --md-sys-color-outline: #7f7667;
  --md-sys-color-outline-variant: #d1c5b4;
  --md-sys-color-shadow: #000000;
  --md-sys-color-scrim: #000000;
  --md-sys-color-inverse-surface: #34302a;
  --md-sys-color-inverse-on-surface: #f8efe7;
  --md-sys-color-inverse-primary: #f6be46;
  --md-sys-color-surface-dim: #e1d9d0;
  --md-sys-color-surface-bright: #fff8f2;
  --md-sys-color-surface-container-lowest: #ffffff;
  --md-sys-color-surface-container-low: #fbf2e9;
  --md-sys-color-surface-container: #f5ede4;
  --md-sys-color-surface-container-high: #efe7de;
  --md-sys-color-surface-container-highest: #e9e1d9
}
</style><link rel="stylesheet" href="assets/material-style.css"/></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Type Conformity</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>Type Conformity</h2></div><div class="tsd-panel tsd-typography"><a id="md:introducing-typeconformity" class="tsd-anchor"></a><h1><a href="#md:introducing-typeconformity">Introducing TypeConformity</a></h1><p>TypeConformity is a simple TypeScript/JavaScript library designed to help us developers in building data validation pipelines using an elegant declarative API. It aids in enforcing data integrity and preventing unexpected data from entering into our systems.</p>
<p>Simply put, it can be used to <em>assert</em> that data is what we <em>expect</em>. You can think of it as a runtime type checker for JavaScript.</p>
<blockquote>
<p><strong>Complete documentation can be found <a href="https://frankchoongsaeng.github.io/type-conformity/">here</a></strong></p>
</blockquote>
<a id="md:getting-started" class="tsd-anchor"></a><h2><a href="#md:getting-started">Getting Started</a></h2><p>TypeConformity is developed with TypeScript but is fully compatible with JavaScript as well.</p>
<a id="md:installation" class="tsd-anchor"></a><h3><a href="#md:installation">Installation</a></h3><p>Install TypeConformity via npm or yarn:</p>
<pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">type-conformity</span>
</code><button>Copy</button></pre>
<p>or</p>
<pre><code class="language-bash"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">type-conformity</span>
</code><button>Copy</button></pre>
<a id="md:basic-usage" class="tsd-anchor"></a><h3><a href="#md:basic-usage">Basic Usage</a></h3><p>2 simple steps is all you need:</p>
<ul>
<li>Create your decoder <em>(or use from type conformity&#39;s prebuilt decoders)</em></li>
<li>Use your decoder to decode some data</li>
</ul>
<p>Example:</p>
<pre><code class="language-typescript"><span class="hl-3">// import asString decoder, useful for decoding strings.</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">asString</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;type-conformity&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// use asString to decode some data</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">hello</span><span class="hl-1"> = </span><span class="hl-5">asString</span><span class="hl-1">.</span><span class="hl-0">parse</span><span class="hl-1">(</span><span class="hl-2">&quot;Hello, world!&quot;</span><span class="hl-1">);</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">hello</span><span class="hl-1">); </span><span class="hl-3">// prints Hello, world!</span>
</code><button>Copy</button></pre>
<p>The <code>parse</code> method is used here to validate the input &#39;Hello, world!&#39; and returns the validated string without any problems.</p>
<p>Note that <code>parse</code> throws a <code>DecodingException</code> error when it fails to decode input. To manage this, you can use the <code>decode</code>
function that returns a <code>DecodingResult&lt;T&gt;</code>, allowing you to deal with the errors as you see fit.</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">asString</span><span class="hl-1">, </span><span class="hl-5">DecodingResult</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;type-conformity&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// use asString to decode some data</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">hello</span><span class="hl-1"> = </span><span class="hl-5">asString</span><span class="hl-1">.</span><span class="hl-0">parse</span><span class="hl-1">(</span><span class="hl-8">1</span><span class="hl-1">);</span><br/><span class="hl-3">//       calling this ^^^^^^^^^ with a number throws a runtime error</span><br/><span class="hl-3">//       with message &#39;$root: expected string but got number&#39;</span><br/><br/><span class="hl-3">/* +++++++++++++++ USING DECODE ++++++++++++++ */</span><br/><br/><span class="hl-3">// we can use decode to avoid throwing runtime errors</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">helloResult</span><span class="hl-1">: </span><span class="hl-9">DecodingResult</span><span class="hl-1">&lt;</span><span class="hl-9">T</span><span class="hl-1">&gt; = </span><span class="hl-5">asString</span><span class="hl-1">.</span><span class="hl-0">decode</span><span class="hl-1">(</span><span class="hl-8">1</span><span class="hl-1">);</span><br/><br/><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">helloResult</span><span class="hl-1">.</span><span class="hl-5">failed</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">hello</span><span class="hl-1">.</span><span class="hl-5">reason</span><span class="hl-1">); </span><span class="hl-3">// prints, &#39;$root: expected string but got number&#39;</span><br/><span class="hl-1">} </span><span class="hl-4">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">// decoding was a success, we can safely access the value</span><br/><span class="hl-1">    </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">helloResult</span><span class="hl-1">.</span><span class="hl-5">value</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>So far so good, but these were pretty basic usage examples just to show the different parts in using type conformity.</p>
<p>Let&#39;s look at more advanced and realistic usages of type conformity.</p>
<a id="md:advanced-usage" class="tsd-anchor"></a><h3><a href="#md:advanced-usage">Advanced Usage</a></h3><p>Type conformity ships with some very useful decoders out of the box.</p>
<pre><code class="language-ts"><span class="hl-3">// aliasing all the imports as &#39;tc&#39; so we don&#39;t have a mess of imports.</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-6">*</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-5">tc</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;type-conformity&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// asString for decoding strings</span><br/><span class="hl-5">tc</span><span class="hl-1">.</span><span class="hl-5">asString</span><span class="hl-1">.</span><span class="hl-0">parse</span><span class="hl-1">(</span><span class="hl-2">&quot;hello world&quot;</span><span class="hl-1">);</span><br/><span class="hl-3">// asNumber for decoding numbers</span><br/><span class="hl-5">tc</span><span class="hl-1">.</span><span class="hl-5">asNumber</span><span class="hl-1">.</span><span class="hl-0">parse</span><span class="hl-1">(</span><span class="hl-8">2</span><span class="hl-1">);</span><br/><span class="hl-3">// asBoolean for decoding booleans</span><br/><span class="hl-5">tc</span><span class="hl-1">.</span><span class="hl-5">asBoolean</span><span class="hl-1">.</span><span class="hl-0">parse</span><span class="hl-1">(</span><span class="hl-6">true</span><span class="hl-1">);</span><br/><span class="hl-3">// asConst for decoding constant values</span><br/><span class="hl-5">tc</span><span class="hl-1">.</span><span class="hl-0">asConst</span><span class="hl-1">(</span><span class="hl-8">2</span><span class="hl-1">).</span><span class="hl-0">parse</span><span class="hl-1">(</span><span class="hl-8">2</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>We can create even more complex decoders by combining simpler ones. Using functions like <code>or</code>, <code>asArray</code>, <code>asTuple</code>, etc.</p>
<pre><code class="language-ts"><span class="hl-3">// aliasing all the imports as &#39;tc&#39; so we don&#39;t have a mess of imports.</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-6">*</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-5">tc</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;type-conformity&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">asArrayOfStrings</span><span class="hl-1"> = </span><span class="hl-5">tc</span><span class="hl-1">.</span><span class="hl-0">asArray</span><span class="hl-1">(</span><span class="hl-5">tc</span><span class="hl-1">.</span><span class="hl-5">asString</span><span class="hl-1">);</span><br/><span class="hl-5">asArrayOfStrings</span><span class="hl-1">.</span><span class="hl-0">parse</span><span class="hl-1">([</span><span class="hl-2">&quot;foo&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;bar&quot;</span><span class="hl-1">]);</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">asStringOrNumber</span><span class="hl-1"> = </span><span class="hl-5">tc</span><span class="hl-1">.</span><span class="hl-5">asString</span><span class="hl-1">.</span><span class="hl-0">or</span><span class="hl-1">(</span><span class="hl-5">tc</span><span class="hl-1">.</span><span class="hl-5">asNumber</span><span class="hl-1">);</span><br/><span class="hl-5">asStringOrNumber</span><span class="hl-1">.</span><span class="hl-0">parse</span><span class="hl-1">(</span><span class="hl-2">&quot;hello&quot;</span><span class="hl-1">);</span><br/><span class="hl-5">asStringOrNumber</span><span class="hl-1">.</span><span class="hl-0">parse</span><span class="hl-1">(</span><span class="hl-8">2</span><span class="hl-1">);</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">asKeyValue</span><span class="hl-1"> = </span><span class="hl-5">tc</span><span class="hl-1">.</span><span class="hl-0">asTuple</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-5">tc</span><span class="hl-1">.</span><span class="hl-5">asString</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">tc</span><span class="hl-1">.</span><span class="hl-5">asAny</span><span class="hl-1"> </span><span class="hl-3">/* yes! we have this too */</span><span class="hl-1">,</span><br/><span class="hl-1">);</span><br/><span class="hl-5">asKeyValue</span><span class="hl-1">.</span><span class="hl-0">parse</span><span class="hl-1">([</span><span class="hl-2">&quot;field&quot;</span><span class="hl-1">, </span><span class="hl-8">2</span><span class="hl-1">]);</span><br/><span class="hl-5">asKeyValue</span><span class="hl-1">.</span><span class="hl-0">parse</span><span class="hl-1">([</span><span class="hl-2">&quot;field&quot;</span><span class="hl-1">, </span><span class="hl-6">true</span><span class="hl-1">]);</span>
</code><button>Copy</button></pre>
<p>We can also create object decoders in one of two ways:</p>
<pre><code class="language-typescript"><span class="hl-3">// aliasing all the imports as &#39;tc&#39; so we don&#39;t have a mess of imports.</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-6">*</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-5">tc</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;type-conformity&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// we can create object decoders using asObject.</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">asPerson</span><span class="hl-1"> = </span><span class="hl-5">tc</span><span class="hl-1">.</span><span class="hl-5">asObject</span><br/><span class="hl-1">    .</span><span class="hl-0">withField</span><span class="hl-1">(</span><span class="hl-2">&quot;name&quot;</span><span class="hl-1">, </span><span class="hl-5">tc</span><span class="hl-1">.</span><span class="hl-5">asString</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-0">withField</span><span class="hl-1">(</span><span class="hl-2">&quot;age&quot;</span><span class="hl-1">, </span><span class="hl-5">tc</span><span class="hl-1">.</span><span class="hl-5">asNumber</span><span class="hl-1">);</span><br/><br/><span class="hl-5">asPerson</span><span class="hl-1">.</span><span class="hl-0">parse</span><span class="hl-1">({ </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Alice&quot;</span><span class="hl-1">, </span><span class="hl-5">age:</span><span class="hl-1"> </span><span class="hl-8">30</span><span class="hl-1"> });</span><br/><br/><span class="hl-3">// or we can create the same Person decoder using an object literal</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">asPerson2</span><span class="hl-1"> = </span><span class="hl-5">tc</span><span class="hl-1">.</span><span class="hl-0">fromObject</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-5">tc</span><span class="hl-1">.</span><span class="hl-5">asString</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">age:</span><span class="hl-1"> </span><span class="hl-5">tc</span><span class="hl-1">.</span><span class="hl-5">asNumber</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><span class="hl-3">// works exactly the same as `asPerson`</span><br/><span class="hl-5">asPerson2</span><span class="hl-1">.</span><span class="hl-0">parse</span><span class="hl-1">({ </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Alice&quot;</span><span class="hl-1">, </span><span class="hl-5">age:</span><span class="hl-1"> </span><span class="hl-8">30</span><span class="hl-1"> });</span>
</code><button>Copy</button></pre>
<a id="md:custom-decoders" class="tsd-anchor"></a><h3><a href="#md:custom-decoders">Custom Decoders</a></h3><blockquote>
<p>Type conformity provides a ton of ways of combining decoders, extending decoders, and also manipulating decoded values as part of the decode process.
You should check out these options first before creating yours, or not; the choice is yours.</p>
</blockquote>
<p>Of course! Type conformity also supports creating your own decoders.</p>
<p>This is particularly useful when it isn&#39;t possible to combine other decoders to get what you want <em>(which is quite rare)</em>, or you want to take charge
of the decoding process for a particular value for reasons best known to you.</p>
<p>You can create custom decoders by using <code>asCustom</code></p>
<pre><code class="language-typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">asCustom</span><span class="hl-1">, </span><span class="hl-5">success</span><span class="hl-1">, </span><span class="hl-5">failure</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;type-conformity&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">asPositiveNumber</span><span class="hl-1">: </span><span class="hl-9">Decoder</span><span class="hl-1">&lt;</span><span class="hl-9">number</span><span class="hl-1">&gt; = </span><span class="hl-0">asCustom</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">decode</span><span class="hl-1">(</span><span class="hl-5">value</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-6">typeof</span><span class="hl-1"> </span><span class="hl-5">value</span><span class="hl-1"> === </span><span class="hl-2">&quot;number&quot;</span><span class="hl-1"> &amp;&amp; </span><span class="hl-5">value</span><span class="hl-1"> &gt;= </span><span class="hl-8">0</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">success</span><span class="hl-1">(</span><span class="hl-5">value</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">failure</span><span class="hl-1">(</span><span class="hl-2">&quot;Value must be a positive number.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<p><code>asCustom</code> allows you to create a decoder with custom decoding logic. You can optionally supply a <code>test</code> function, and a name for your decoder.</p>
<p>The other way of create custom decoders is by extending the <code>Decoder</code> class and providing implementations for your decoder instances:</p>
<pre><code class="language-typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Decoder</span><span class="hl-1">, </span><span class="hl-5">success</span><span class="hl-1">, </span><span class="hl-5">failure</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;type-conformity&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-9">PositiveNumberDecoder</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-9">Decoder</span><span class="hl-1">&lt;</span><span class="hl-9">number</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-5">name</span><span class="hl-1"> = </span><span class="hl-2">&quot;positive number&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-0">decode</span><span class="hl-1">(</span><span class="hl-5">arg</span><span class="hl-1">: </span><span class="hl-9">unknown</span><span class="hl-1">): </span><span class="hl-9">DecodingResult</span><span class="hl-1">&lt;</span><span class="hl-9">number</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-6">typeof</span><span class="hl-1"> </span><span class="hl-5">arg</span><span class="hl-1"> === </span><span class="hl-2">&quot;number&quot;</span><span class="hl-1"> &amp;&amp; </span><span class="hl-5">arg</span><span class="hl-1"> &gt;= </span><span class="hl-8">0</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">success</span><span class="hl-1">(</span><span class="hl-5">arg</span><span class="hl-1">);</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">failure</span><span class="hl-1">(</span><span class="hl-2">&quot;Value must be a positive number.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-0">test</span><span class="hl-1">(</span><span class="hl-5">arg</span><span class="hl-1">: </span><span class="hl-9">unknown</span><span class="hl-1">): </span><span class="hl-9">boolean</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-6">typeof</span><span class="hl-1"> </span><span class="hl-5">arg</span><span class="hl-1"> === </span><span class="hl-2">&quot;number&quot;</span><span class="hl-1"> &amp;&amp; </span><span class="hl-5">arg</span><span class="hl-1"> &gt;= </span><span class="hl-8">0</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">asPositiveNumber</span><span class="hl-1">: </span><span class="hl-9">PositiveNumberDecoder</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">PositiveNumberDecoder</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<p>In this case implementations must be provided for <code>name</code>, <code>decode</code>, and <code>test</code>.
This approach allows you to define additional methods and fields that can be called on your custom decoder.</p>
<a id="md:api" class="tsd-anchor"></a><h3><a href="#md:api">API</a></h3><p>There&#39;s many more ways of working with decoders that just can fit into this document, but you can find TypeConformity&#39;s full API documentation
<a href="https://frankchoongsaeng.github.io/type-conformity/modules.html">here.</a></p>
<a id="md:caveats" class="tsd-anchor"></a><h3><a href="#md:caveats">Caveats</a></h3><a id="md:typescript-objects-are-compatible-if-one-is-a-subset-of-the-other" class="tsd-anchor"></a><h4><a href="#md:typescript-objects-are-compatible-if-one-is-a-subset-of-the-other">TypeScript Objects are compatible if one is a subset of the other</a></h4><p>The <code>asObject</code> decoder infers the typescript type of the decoder based on what fields and decoders have been composed so far.</p>
<p>When you call <code>withField</code>, it knows to update the typescript type of the decoder with the new field and it&#39;s corresponding type.</p>
<pre><code class="language-ts"><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-9">User</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">name</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">age</span><span class="hl-1">: </span><span class="hl-9">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">asUser</span><span class="hl-1">: </span><span class="hl-9">Decoder</span><span class="hl-1">&lt;</span><span class="hl-9">User</span><span class="hl-1">&gt; = </span><span class="hl-5">asObject</span><br/><span class="hl-1">    .</span><span class="hl-0">withField</span><span class="hl-1">(</span><span class="hl-2">&quot;name&quot;</span><span class="hl-1">, </span><span class="hl-5">asString</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-0">withField</span><span class="hl-1">(</span><span class="hl-2">&quot;age&quot;</span><span class="hl-1">, </span><span class="hl-5">asString</span><span class="hl-1">);</span><br/><span class="hl-3">// ts-error because age in User is number type,</span><br/><span class="hl-3">// but has been specified as string type here.</span>
</code><button>Copy</button></pre>
<p>This is a really cool feature but doesn&#39;t work so well when you create a decoder with additonal fields.</p>
<pre><code class="language-ts"><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-9">User</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">name</span><span class="hl-1">: </span><span class="hl-9">string</span><br/><span class="hl-1">    </span><span class="hl-5">age</span><span class="hl-1">: </span><span class="hl-9">number</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">asUser</span><span class="hl-1">: </span><span class="hl-9">Decoder</span><span class="hl-1">&lt;</span><span class="hl-9">User</span><span class="hl-1">&gt; = </span><span class="hl-5">asObject</span><br/><span class="hl-1">    .</span><span class="hl-0">withField</span><span class="hl-1">(</span><span class="hl-2">&#39;name&#39;</span><span class="hl-1">, </span><span class="hl-5">asString</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-0">withField</span><span class="hl-1">(</span><span class="hl-2">&#39;age&#39;</span><span class="hl-1">, </span><span class="hl-5">asNumber</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-0">withField</span><span class="hl-1">(</span><span class="hl-2">&#39;additionalField&#39;</span><span class="hl-1">: </span><span class="hl-5">asString</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-3">// no typescript error because the created decoder</span><br/><span class="hl-1">    </span><span class="hl-3">// is a superset of User.</span>
</code><button>Copy</button></pre>
<p><strong>Using these kind of superset decoders can lead to false negatives, where it tries to decode <code>additionalField</code> as a string and fails!</strong></p>
<a id="md:examples-and-tutorials" class="tsd-anchor"></a><h3><a href="#md:examples-and-tutorials">Examples and Tutorials</a></h3><p>There are a few examples and tutorials showing how TypeConformity can be used in different use cases.</p>
<ul>
<li><a href="https://github.com/frankchoongsaeng/type-conformity/tree/main/docs/tutorials/validating-data-from-restful-service.md">Data Validation for RESTful Service Endpoint using TypeConformity</a></li>
<li><a href="https://github.com/frankchoongsaeng/type-conformity/tree/main/docs/tutorials/validating-form-data-in-a-web-application.md">Using TypeConformity for Form Validation in a Web Application</a></li>
<li><a href="https://github.com/frankchoongsaeng/type-conformity/tree/main/examples/src/">Examples</a></li>
</ul>
<a id="md:contributing" class="tsd-anchor"></a><h3><a href="#md:contributing">Contributing</a></h3><p>We&#39;ll be thrilled to welcome your contributions to TypeConformity. Before you get started, please take a moment to review the <a href="https://github.com/frankchoongsaeng/type-conformity/blob/main/CONTRIBUTING.md">Contributing Guide</a>.</p>
<a id="md:license" class="tsd-anchor"></a><h3><a href="#md:license">License</a></h3><p><a href="https://github.com/frankchoongsaeng/type-conformity/blob/main/LICENSE.md">MIT License</a></p>
<a id="md:technical-info" class="tsd-anchor"></a><h3><a href="#md:technical-info">Technical Info</a></h3><p>This project is developed with <a href="https://www.typescriptlang.org/">TypeScript</a> and currently has zero dependencies, although this might change in the future 🤷.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:introducing-typeconformity"><span>Introducing <wbr/>Type<wbr/>Conformity</span></a><ul><li><a href="#md:getting-started"><span>Getting <wbr/>Started</span></a></li><li><ul><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:basic-usage"><span>Basic <wbr/>Usage</span></a></li><li><a href="#md:advanced-usage"><span>Advanced <wbr/>Usage</span></a></li><li><a href="#md:custom-decoders"><span>Custom <wbr/>Decoders</span></a></li><li><a href="#md:api"><span>API</span></a></li><li><a href="#md:caveats"><span>Caveats</span></a></li><li><ul><li><a href="#md:typescript-objects-are-compatible-if-one-is-a-subset-of-the-other"><span>Type<wbr/>Script <wbr/>Objects are compatible if one is a subset of the other</span></a></li></ul></li><li><a href="#md:examples-and-tutorials"><span>Examples and <wbr/>Tutorials</span></a></li><li><a href="#md:contributing"><span>Contributing</span></a></li><li><a href="#md:license"><span>License</span></a></li><li><a href="#md:technical-info"><span>Technical <wbr/>Info</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/frankchoongsaeng/type-conformity/tree/main/examples/src">Examples</a><a href="https://github.com/frankchoongsaeng/type-conformity/tree/main/docs/tutorials">Tutorials</a><a href="https://github.com/frankchoongsaeng/type-conformity/">Github</a></nav><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>Type Conformity</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script>
          try {
            const generateLinkElement = document.querySelector(".tsd-generator a");
            const link = document.createElement("a");
            Object.assign(link, {
              href: "https://github.com/dmnsgn/typedoc-material-theme",
              target: "_blank",
              rel: "noreferrer",
              innerText: "typedoc-material-theme."
            });
            generateLinkElement.insertAdjacentElement("afterend", link);
            generateLinkElement.insertAdjacentText("afterend", " with ");
          } catch (error) {

          }
        </script></body></html>